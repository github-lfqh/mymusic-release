{"version":3,"sources":["webpack:///./src/views/play.vue?6118","webpack:///src/views/play.vue","webpack:///./src/views/play.vue?47b1","webpack:///./src/views/play.vue","webpack:///./src/views/play.vue?ba48"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","background","pic","transform","angle","attrs","src","directives","name","rawName","value","noWord","expression","ref","_l","oLRC","item","index","key","_v","_s","c","_e","on","durationchange","timeupdate","ended","error","currentTime","backgroundSize","progress","type","input","changeProgress","duration","click","pre","class","play","btnShow","changeStatus","next","to","staticRenderFns","playvue_type_script_lang_js_","data","isplay","ismove","timer","ti","ar","al","by","offset","ms","lineNo","played","img_default","a","_default","showWords","methods","timeFormat","$refs","audio","i","range","t","length","heightLight","document","querySelector","removeAttribute","ul","autoRatate","pause","clearInterval","str","m","Math","floor","s","round","toString","padStart","parseLrc","lrc","lrcs","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","line","replace","substring","indexOf","isNaN","parseInt","toLowerCase","arr","match","timeLength","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","arrItem","err","return","content","k","_t","push","parseFloat","toFixed","_this","setInterval","lis","getElementsByTagName","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","li","className","_this2","$store","state","songs","localStorage","setItem","JSON","stringify","init","$nextTick","_this3","_this4","parse","getItem","other_","url","$axios","get","then","response","autoplay","load","mounted","beforeDestroy","commit","views_playvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_play_vue_vue_type_style_index_0_id_3ac5ad99_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_play_vue_vue_type_style_index_0_id_3ac5ad99_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,SAAAC,MAAA,CAA6BC,WAAA,OAAAR,EAAAS,IAAA,gBAAiD,CAAAL,EAAA,OAAYE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,2BAAsC,CAAAF,EAAA,OAAYE,YAAA,mBAAAC,MAAA,CAAuCG,UAAA,UAAAV,EAAAW,MAAA,SAA8C,CAAAP,EAAA,OAAYE,YAAA,MAAAM,MAAA,CAAyBC,IAAAb,EAAAS,WAAeL,EAAA,OAAgBE,YAAA,SAAmBN,EAAA,UAAAI,EAAA,OAA4BE,YAAA,oBAA+B,CAAAF,EAAA,MAAWU,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAjB,EAAAkB,OAAAC,WAAA,YAAsEC,IAAA,MAAWpB,EAAAqB,GAAArB,EAAAsB,KAAA,YAAAC,EAAAC,GAA2C,OAAApB,EAAA,MAAgBqB,IAAAD,GAAU,CAAAxB,EAAA0B,GAAA1B,EAAA2B,GAAAJ,EAAAK,QAA2B,GAAAxB,EAAA,MAAcU,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAjB,EAAA,OAAAmB,WAAA,YAAsE,CAAAnB,EAAA0B,GAAA,0BAAA1B,EAAA6B,KAAAzB,EAAA,SAAwDgB,IAAA,QAAAU,GAAA,CAAgBC,eAAA/B,EAAA+B,eAAAC,WAAAhC,EAAAgC,WAAAC,MAAAjC,EAAAiC,MAAAC,MAAAlC,EAAAkC,QAAqG,CAAA9B,EAAA,UAAeQ,MAAA,CAAOC,IAAAb,EAAAa,SAAeT,EAAA,OAAcE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,eAA0B,CAAAF,EAAA,QAAaE,YAAA,eAA0B,CAAAN,EAAA0B,GAAA1B,EAAA2B,GAAA3B,EAAAmC,gBAAA/B,EAAA,SAAgDgB,IAAA,QAAAb,MAAA,CAAoB6B,eAAApC,EAAAqC,SAAA,SAAwCzB,MAAA,CAAS0B,KAAA,SAAeR,GAAA,CAAKS,MAAAvC,EAAAwC,kBAA4BpC,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAA0B,GAAA1B,EAAA2B,GAAA3B,EAAAyC,eAAArC,EAAA,OAA6CE,YAAA,WAAsB,CAAAF,EAAA,QAAaE,YAAA,MAAAwB,GAAA,CAAsBY,MAAA1C,EAAA2C,OAAiBvC,EAAA,QAAaE,YAAA,QAAAsC,MAAA,CAA2BC,KAAA7C,EAAA8C,SAAoBhB,GAAA,CAAKY,MAAA1C,EAAA+C,gBAA0B3C,EAAA,QAAaE,YAAA,OAAAwB,GAAA,CAAuBY,MAAA1C,EAAAgD,UAAkB5C,EAAA,eAAsBE,YAAA,mBAAAM,MAAA,CAAsCqC,GAAA,YAAc,IACtoDC,EAAA,2ICgNAC,EAAA,CACAC,KADA,WAEA,OACAC,QAAA,EACAlB,YAAA,QACAM,SAAA,QACAJ,SAAA,KACAiB,QAAA,EACAR,SAAA,EACAM,KAAA,GACAzC,MAAA,EACA4C,MAAA,KACAjC,KAAA,CACAkC,GAAA,GACAC,GAAA,GACAC,GAAA,GACAC,GAAA,GACAC,OAAA,EACAC,GAAA,IAEAC,OAAA,EACAC,QAAA,EACA7C,QAAA,EACAT,IAAAuD,EAAAC,EACApD,IAAAqD,EAAAD,EACAzC,MAAA,EACA2C,WAAA,IAIAC,QAAA,CACArC,eADA,WAEA9B,KAAAwC,SAAAxC,KAAAoE,WAAApE,KAAAqE,MAAAC,MAAA9B,WAGAT,WALA,WAMA,GAAA/B,KAAAqD,QAEA,QAAAkB,KADAvE,KAAAqE,MAAAC,MAAApC,YAAAlC,KAAAqE,MAAAG,MAAAxD,MAAA,IAAAhB,KAAAqE,MAAAC,MAAA9B,SACAxC,KAAAqB,KAAAuC,GACA,GAAA5D,KAAAqB,KAAAuC,GAAAW,GAAAE,EAAAzE,KAAAqE,MAAAC,MAAApC,YAAA,CACAlC,KAAA6D,OAAAU,EAAA,EACA,YAIAvE,KAAAqE,MAAAG,MAAAxD,MAAAhB,KAAAqE,MAAAC,MAAApC,YAAAlC,KAAAqE,MAAAC,MAAA9B,SAAA,IAEAxC,KAAAkC,YAAAlC,KAAAoE,WAAApE,KAAAqE,MAAAC,MAAApC,aACAlC,KAAAoC,SAAApC,KAAAqE,MAAAG,MAAAxD,MAAA,IACAhB,KAAAqD,QAAA,EACArD,KAAA6D,QAAA7D,KAAAqB,KAAAuC,GAAAc,QAEA1E,KAAAqB,KAAAuC,GAAA5D,KAAA6D,QAAAY,GAAAzE,KAAAqE,MAAAC,MAAApC,aACAlC,KAAA2E,eAIApC,eA3BA,WA4BAvC,KAAAqD,QAAA,EACArD,KAAAoC,SAAApC,KAAAqE,MAAAG,MAAAxD,MAAA,KAGA8B,aAhCA,WAiCA9C,KAAA6C,SAAA7C,KAAA6C,QACA7C,KAAAoD,QAAApD,KAAAoD,OACApD,KAAAoD,QACApD,KAAA8D,SACAc,SAAAC,cAAA,UAAAC,gBAAA,SACA9E,KAAAqE,MAAAU,GAAAzE,MAAAG,UAAA,gBACAT,KAAA6D,OAAA,EACA7D,KAAAkC,YAAA,QACAlC,KAAAoC,SAAA,KACApC,KAAAqE,MAAAC,MAAApC,YAAA,EACAlC,KAAA8D,QAAA,EACA9D,KAAAU,MAAA,GAEAV,KAAAgF,aACAhF,KAAAqE,MAAAC,MAAA1B,SAEA5C,KAAAqE,MAAAC,MAAAW,QACAC,cAAAlF,KAAAsD,SAIAc,WAtDA,SAsDAe,GACA,IAAAC,EAAAC,KAAAC,MAAAH,EAAA,IACAI,EAAAF,KAAAG,MAAAL,EAAA,IACA,OAAAC,EAAAK,WAAAC,SAAA,SAAAH,EAAAE,WAAAC,SAAA,MAGAC,SA5DA,SA4DAC,GACA,MAAAA,EAAAlB,OAAA,CACA,IAAAmB,EAAAD,EAAAE,MAAA,MAFAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGA,QAAAC,EAAAC,EAAAP,EAAAQ,OAAAC,cAAAP,GAAAI,EAAAC,EAAArD,QAAAwD,MAAAR,GAAA,OAAAS,EAAAL,EAAAnF,MACAwF,IAAAC,QAAA,qBACA,IAAAhC,EAAA+B,EAAAE,UAAAF,EAAAG,QAAA,OAAAH,EAAAG,QAAA,MACApB,EAAAd,EAAAqB,MAAA,KACA,GAAAc,MAAAC,SAAAtB,EAAA,KACA,QAAAjE,KAAAtB,KAAAqB,KACA,MAAAC,MAAAiE,EAAA,GAAAuB,gBACA9G,KAAAqB,KAAAC,GAAAiE,EAAA,QAGA,CACA,IAAAwB,EAAAP,EAAAQ,MAAA,kBACAC,EAAA,EAFAC,GAAA,EAAAC,GAAA,EAAAC,OAAAlB,EAAA,IAGA,QAAAmB,EAAAC,EAAAP,EAAAV,OAAAC,cAAAY,GAAAG,EAAAC,EAAAvE,QAAAwD,MAAAW,GAAA,OAAAK,EAAAF,EAAArG,MACAiG,GAAAM,EAAA7C,QAJA,MAAA8C,GAAAL,GAAA,EAAAC,EAAAI,EAAA,YAAAN,GAAA,MAAAI,EAAAG,QAAAH,EAAAG,SAAA,WAAAN,EAAA,MAAAC,GAMA,IAAAM,EAAAlB,EAAAE,UAAAO,GACA,OAAAS,EACA,QAAAC,KAAAZ,EAAA,CACA,IAAAa,EAAAb,EAAAY,GAAAjB,UAAA,EAAAK,EAAAY,GAAAjD,OAAA,GACAhD,EAAAkG,EAAA9B,MAAA,KACA9F,KAAAqB,KAAAuC,GAAAiE,KAAA,CACApD,GAAA,GAAAqD,WAAApG,EAAA,IAAAoG,WAAApG,EAAA,KAAAqG,QAAA,GACApG,EAAA+F,OA1BA,MAAAF,GAAAxB,GAAA,EAAAC,EAAAuB,EAAA,YAAAzB,GAAA,MAAAK,EAAAqB,QAAArB,EAAAqB,SAAA,WAAAzB,EAAA,MAAAC,GAgCA,GAAAjG,KAAAqB,KAAAuC,GAAAc,SACA1E,KAAAiB,QAAA,KAIA+D,WAjGA,WAiGA,IAAAgD,EAAAhI,KACAA,KAAAsD,MAAA2E,YAAA,WACAD,EAAAtH,OAAA,IACA,MAGAiE,YAvGA,WAwGA,IAAAuD,EAAAlI,KAAAqE,MAAAU,GAAAoD,qBAAA,MADAC,GAAA,EAAAC,GAAA,EAAAC,OAAApC,EAAA,IAEA,QAAAqC,EAAAC,EAAAN,EAAA7B,OAAAC,cAAA8B,GAAAG,EAAAC,EAAAzF,QAAAwD,MAAA6B,GAAA,OAAAK,EAAAF,EAAAvH,MACAyH,EAAA3D,gBAAA,UAHA,MAAA0C,GAAAa,GAAA,EAAAC,EAAAd,EAAA,YAAAY,GAAA,MAAAI,EAAAf,QAAAe,EAAAf,SAAA,WAAAY,EAAA,MAAAC,GAIAJ,EAAAlI,KAAA6D,QAAA6E,UAAA,QACA1I,KAAA6D,OAAA,IACA7D,KAAAqE,MAAAU,GAAAzE,MAAAG,UAAA,mBAAAT,KAAA6D,OAAA,UAEA7D,KAAA6D,UAGA7B,MAlHA,WAmHAhC,KAAA8D,QAAA,EACA9D,KAAA6C,SAAA,EACA7C,KAAAoD,QAAA,EACA8B,cAAAlF,KAAAsD,QAGArB,MAzHA,WA0HAiD,cAAAlF,KAAAsD,OACAtD,KAAAoC,SAAA,KACApC,KAAAqE,MAAAG,MAAAxD,MAAA,EACAhB,KAAAiB,QAAA,GAGAyB,IAhIA,WAgIA,IAAAiG,EAAA3I,KACA,GAAAA,KAAAuB,MAAA,GACA,IAAAA,EAAAvB,KAAAuB,MAAA,EACAD,EAAAtB,KAAA4I,OAAAC,MAAAC,MAAAvH,GACAwH,aAAAC,QAAA,OAAAC,KAAAC,UAAA5H,IACAyH,aAAAC,QAAA,QAAAzH,GACAvB,KAAAU,MAAA,EACAqI,aAAAC,QAAA,iBACAhJ,KAAAmJ,OAEAnJ,KAAAkE,WAAA,EACAlE,KAAAoJ,UAAA,kBAAAT,EAAAzE,WAAA,KAGAnB,KA9IA,WA8IA,IAAAsG,EAAArJ,KACA,GAAAA,KAAAuB,MAAAvB,KAAA4I,OAAAC,MAAAC,MAAApE,OAAA,GACA,IAAAnD,EAAAvB,KAAAuB,MAAA,EACAD,EAAAtB,KAAA4I,OAAAC,MAAAC,MAAAvH,GACAwH,aAAAC,QAAA,OAAAC,KAAAC,UAAA5H,IACAyH,aAAAC,QAAA,QAAAzH,GACAvB,KAAAU,MAAA,EACAqI,aAAAC,QAAA,iBACAhJ,KAAAmJ,OAEAnJ,KAAAkE,WAAA,EACAlE,KAAAoJ,UAAA,kBAAAC,EAAAnF,WAAA,KAGAiF,KA5JA,WA4JA,IAGAvD,EAHA0D,EAAAtJ,KACAA,KAAAmD,KAAA8F,KAAAM,MAAAR,aAAAS,QAAA,SACAxJ,KAAAuB,MAAAsF,SAAAkC,aAAAS,QAAA,UAEA,MAAAxJ,KAAAmD,MACAnD,KAAAY,IAAAqD,EAAAD,EACA4B,EAAA6D,EAAA,KAAAhF,EACAzE,KAAA2F,SAAAC,KAEA5F,KAAAqE,MAAAC,MAAA1D,IAAAZ,KAAAmD,KAAAuG,IACA9D,EAAA5F,KAAAmD,KAAAyC,IACA5F,KAAA2J,OAAAC,IAAAhE,GAAAiE,KAAA,SAAAC,GACAR,EAAA3D,SAAAmE,KAEA9J,KAAAQ,IAAAR,KAAAmD,KAAA3C,KAEAR,KAAAqE,MAAAC,MAAAyF,UAAA,EACA/J,KAAAqE,MAAAC,MAAA0F,OACAhK,KAAAgF,aACAhF,KAAAqE,MAAAC,MAAApC,YAAA2E,SAAAkC,aAAAS,QAAA,gBACAxJ,KAAAkC,YAAAlC,KAAAoE,WAAApE,KAAAqE,MAAAC,MAAApC,aACAlC,KAAAqE,MAAAG,MAAAxD,MAAAhB,KAAAqE,MAAAC,MAAApC,YAAAlC,KAAAqE,MAAAC,MAAA9B,SAAA,IACAxC,KAAAoC,SAAApC,KAAAqE,MAAAG,MAAAxD,MAAA,MAIAiJ,QApNA,WAqNAjK,KAAAmJ,QAGAe,cAxNA,WAyNA,IAAAhI,EAAAlC,KAAAqE,MAAAC,MAAApC,YACA6G,aAAAC,QAAA,cAAA9G,GACAlC,KAAA4I,OAAAuB,OAAA,wBC5akbC,EAAA,0BCQlbC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAtK,EACAmD,GACF,EACA,KACA,WACA,MAIeuH,EAAA,WAAAH,6CCnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAorBE,EAAG","file":"js/chunk-61459da4.73073751.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"player\",style:({ background: 'url(' + _vm.pic + ') no-repeat' })},[_c('div',{staticClass:\"cover\"}),_c('div',{staticClass:\"player-disc flex-center\"},[_c('div',{staticClass:\"mask flex-center\",style:({ transform: 'rotate(' + _vm.angle + 'deg)' })},[_c('img',{staticClass:\"pic\",attrs:{\"src\":_vm.pic}})])]),_c('div',{staticClass:\"fill\"}),(_vm.showWords)?_c('div',{staticClass:\"player-songWords\"},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.noWord),expression:\"!noWord\"}],ref:\"ul\"},_vm._l((_vm.oLRC.ms),function(item,index){return _c('li',{key:index},[_vm._v(_vm._s(item.c))])}),0),_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noWord),expression:\"noWord\"}]},[_vm._v(\"歌曲库里暂无这首歌的歌词或者这首歌!\")])]):_vm._e(),_c('audio',{ref:\"audio\",on:{\"durationchange\":_vm.durationchange,\"timeupdate\":_vm.timeupdate,\"ended\":_vm.ended,\"error\":_vm.error}},[_c('source',{attrs:{\"src\":_vm.src}})]),_c('div',{staticClass:\"fill\"}),_c('div',{staticClass:\"progressBar\"},[_c('span',{staticClass:\"currentTime\"},[_vm._v(_vm._s(_vm.currentTime))]),_c('input',{ref:\"range\",style:({ backgroundSize:  _vm.progress +' 100%'}),attrs:{\"type\":\"range\"},on:{\"input\":_vm.changeProgress}}),_c('span',{staticClass:\"duration\"},[_vm._v(_vm._s(_vm.duration))])]),_c('div',{staticClass:\"control\"},[_c('span',{staticClass:\"pre\",on:{\"click\":_vm.pre}}),_c('span',{staticClass:\"pause\",class:{ play: _vm.btnShow },on:{\"click\":_vm.changeStatus}}),_c('span',{staticClass:\"next\",on:{\"click\":_vm.next}})]),_c('router-link',{staticClass:\"back flex-center\",attrs:{\"to\":\"/home\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"scss\" scoped>\r\n.player {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-size: 100% 100% !important;\r\n\r\n  .cover {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    background: rgba(0, 0, 0, 0.8);\r\n    background-size: 100% 100%;\r\n    z-index: 2;\r\n  }\r\n\r\n  &-disc {\r\n    width: 100%;\r\n    height: 30%;\r\n    z-index: 4;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .mask {\r\n      width: 14rem;\r\n      height: 14rem;\r\n      border-radius: 100%;\r\n      background: url('../assets/img/disc.png') no-repeat;\r\n      background-size: 100% 100%;\r\n      position: relative;\r\n\r\n      .pic {\r\n        width: 10.3rem;\r\n        height: 10.3rem;\r\n        border-radius: 100%;\r\n      }\r\n    }\r\n  }\r\n  \r\n  &-songWords {\r\n    width: 100%;\r\n    height: 60%;\r\n    overflow: hidden;\r\n    margin: auto 0;\r\n    z-index: 3;\r\n\r\n    ul {\r\n      width: 100%;\r\n      height: 100%;\r\n      transition-duration: 200ms;\r\n\r\n      li {\r\n        width: 100%;\r\n        height: 2rem;\r\n        text-align: center;\r\n        color: #fff;\r\n        line-height: 2rem;\r\n      }\r\n    }\r\n\r\n    h2 {\r\n      text-align: center;\r\n      color: #fff;\r\n    }\r\n\r\n    .light {\r\n      color: #11a4f0;\r\n    }\r\n  }\r\n  \r\n  .progressBar {\r\n    width: 100%;\r\n    height: 5%;\r\n    display: flex;\r\n    align-items: center;\r\n    z-index: 3;\r\n\r\n    span {\r\n      color: #fff;\r\n      font-size: 1.3rem;\r\n      font-style: normal;\r\n      width: 10%;\r\n      text-align: center;\r\n    }\r\n\r\n    input[type = \"range\"] {\r\n      -webkit-appearance: none;\r\n      outline: none;\r\n      height: 0.5rem;\r\n      width: 80%;\r\n      border-radius: 1rem; \r\n      background: -webkit-linear-gradient(#11a4f0, #11a4f0) no-repeat, #c2c2c4;\r\n      background-size: 0% 100%;\r\n    }\r\n    input[type = \"range\"]::-webkit-slider-thumb {\r\n      -webkit-appearance: none;\r\n      height: 1rem;\r\n      width: 1rem;\r\n      margin-top: -0.25rem; \r\n      margin-left: -0.05rem;\r\n      background: #171717;\r\n      border-radius: 100%;\r\n    }  \r\n    input[type = \"range\"]::-webkit-slider-runnable-track {\r\n      height: 0.5rem;\r\n      border-radius: 1rem; \r\n    }\r\n  }\r\n\r\n  .control {\r\n    width: 100%;\r\n    height: 60px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 6;\r\n\r\n    .pre {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 100%;\r\n      background: url(\"../assets/img/button.png\");\r\n      background-position: -72px -140px;\r\n    }\r\n\r\n    .pause {\r\n      width: 60px;\r\n      height: 60px;\r\n      border-radius: 100%;\r\n      background: url(\"../assets/img/button.png\");\r\n      background-position: 0 0;\r\n    }\r\n\r\n    .play {\r\n      background-position: 0 -60px;\r\n    }\r\n\r\n    .next {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 100%;\r\n      background: url(\"../assets/img/button.png\");\r\n      background-position: -140px -140px;\r\n    }\r\n  }\r\n\r\n  .fill {\r\n    width: 100%;\r\n    height: 2.5%;\r\n  }\r\n\r\n  .back {\r\n    width: 4rem;\r\n    height: 4rem;\r\n    position: absolute;\r\n    top: 1.5rem;\r\n    left: 1.5rem;\r\n    color: #fff;\r\n    border-radius: 100%;\r\n    background: url(\"../assets/img/left.png\") no-repeat;\r\n    background-size: 100% 100%;\r\n    z-index: 5;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <section class=\"player\" :style=\"{ background: 'url(' + pic + ') no-repeat' }\">\r\n    <div class=\"cover\"></div>\r\n    <div class=\"player-disc flex-center\">\r\n      <div class=\"mask flex-center\" :style=\"{ transform: 'rotate(' + angle + 'deg)' }\">\r\n        <img :src=\"pic\" class=\"pic\"/>\r\n      </div>\r\n    </div>\r\n    <div class=\"fill\"></div>\r\n    <div class=\"player-songWords\" v-if=\"showWords\">\r\n      <ul ref=\"ul\" v-show=\"!noWord\">\r\n        <li v-for=\"(item, index) in oLRC.ms\" :key=\"index\">{{ item.c }}</li>\r\n      </ul>\r\n      <h2 v-show=\"noWord\">歌曲库里暂无这首歌的歌词或者这首歌!</h2> \r\n    </div>  \r\n    <audio ref=\"audio\" @durationchange=\"durationchange\" @timeupdate=\"timeupdate\" @ended=\"ended\" @error=\"error\">\r\n      <source :src=\"src\" />\r\n    </audio>\r\n    <div class=\"fill\"></div>\r\n    <div class=\"progressBar\">\r\n      <span class=\"currentTime\">{{ currentTime }}</span>\r\n      <input type=\"range\" ref=\"range\" :style=\"{ backgroundSize:  progress +' 100%'}\" @input=\"changeProgress\">\r\n      <span class=\"duration\">{{ duration }}</span>\r\n    </div>\r\n    <div class=\"control\">\r\n      <span class=\"pre\" @click=\"pre\"></span>\r\n      <span class=\"pause\" :class=\"{ play: btnShow }\" @click=\"changeStatus\"></span>\r\n      <span class=\"next\" @click=\"next\"></span>\r\n    </div>\r\n    <router-link to=\"/home\" class=\"back flex-center\"></router-link>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport music from \"../assets/other/夏雨菲 - 体面.mp3\";\r\nimport txt from \"../assets/other/体面.js\";\r\nimport img from \"../assets/img/体面.jpg\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isplay: true,\r\n      currentTime: \"00:00\",\r\n      duration: \"00:00\",\r\n      progress: \"0%\",\r\n      ismove: false,\r\n      btnShow: true,\r\n      data: {},\r\n      angle: 0,\r\n      timer: null,\r\n      oLRC: {\r\n        ti: \"\", //歌曲名\r\n        ar: \"\", //演唱者\r\n        al: \"\", //专辑名\r\n        by: \"\", //歌词制作人\r\n        offset: 0, //时间补偿值，单位毫秒，用于调整歌词整体位置\r\n        ms: [] //歌词数组｛t: 时间，c: 歌词｝\r\n      },\r\n      lineNo: 0,\r\n      played: false,\r\n      noWord: false,\r\n      pic: img,\r\n      src: music,\r\n      index: 0,\r\n      showWords: true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    durationchange() {\r\n      this.duration = this.timeFormat(this.$refs.audio.duration);\r\n    },\r\n\r\n    timeupdate() {\r\n      if (this.ismove) {\r\n        this.$refs.audio.currentTime = this.$refs.range.value / 100 * this.$refs.audio.duration;\r\n        for (let i in this.oLRC.ms) {\r\n          if (this.oLRC.ms[i].t >  this.$refs.audio.currentTime) {\r\n            this.lineNo = i - 1;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        this.$refs.range.value = this.$refs.audio.currentTime / this.$refs.audio.duration * 100;\r\n      }\r\n      this.currentTime = this.timeFormat(this.$refs.audio.currentTime);\r\n      this.progress = this.$refs.range.value + \"%\";\r\n      this.ismove = false;\r\n      if (this.lineNo >= this.oLRC.ms.length)\r\n        return;\r\n      if (this.oLRC.ms[this.lineNo].t <= this.$refs.audio.currentTime) {\r\n        this.heightLight();\r\n      }\r\n    },\r\n\r\n    changeProgress() {\r\n      this.ismove = true;\r\n      this.progress = this.$refs.range.value + \"%\";\r\n    },\r\n\r\n    changeStatus() {\r\n      this.btnShow = !this.btnShow;\r\n      this.isplay = !this.isplay;\r\n      if (this.isplay) {\r\n        if (this.played) {\r\n          document.querySelector(\".light\").removeAttribute(\"class\");\r\n          this.$refs.ul.style.transform = \"translateY(0)\";\r\n          this.lineNo = 0;\r\n          this.currentTime = \"00:00\";\r\n          this.progress = \"0%\";\r\n          this.$refs.audio.currentTime = 0;\r\n          this.played = false;\r\n          this.angle = 0;\r\n        }\r\n        this.autoRatate();\r\n        this.$refs.audio.play();\r\n      } else {\r\n        this.$refs.audio.pause();\r\n        clearInterval(this.timer);\r\n      }\r\n    },\r\n\r\n    timeFormat(str) {\r\n      let m = Math.floor(str / 60);\r\n      let s = Math.round(str % 60);\r\n      return m.toString().padStart(2, 0) + \":\" + s.toString().padStart(2, 0);\r\n    },\r\n\r\n    parseLrc(lrc) {\r\n      if (lrc.length == 0) return;\r\n      let lrcs = lrc.split(\"\\n\");\r\n      for (let line of lrcs) {\r\n        line = line.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n        let t = line.substring(line.indexOf(\"[\") + 1, line.indexOf(\"]\"));\r\n        let s = t.split(\":\");\r\n        if (isNaN(parseInt(s[0]))) {\r\n          for ( let item in this.oLRC) {\r\n            if (item != \"ms\" && item == s[0].toLowerCase()) {\r\n              this.oLRC[item] = s[1];\r\n            }\r\n          }\r\n        } else {\r\n          let arr = line.match(/\\[(\\d+:.+?)\\]/g);\r\n          let timeLength = 0;\r\n          for (let arrItem of arr) {\r\n            timeLength += arrItem.length;\r\n          }\r\n          let content = line.substring(timeLength);\r\n          if (content != \"\") {\r\n            for (let k in arr) {\r\n              let t = arr[k].substring(1, arr[k].length - 1);\r\n              let s = t.split(\":\");\r\n              this.oLRC.ms.push({\r\n                t: (parseFloat(s[0]) * 60 + parseFloat(s[1])).toFixed(3),\r\n                c: content\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (this.oLRC.ms.length == 0) {\r\n        this.noWord = true;\r\n      }\r\n    },\r\n\r\n    autoRatate() {\r\n      this.timer = setInterval(() => {\r\n        this.angle += 10;\r\n      }, 1000);\r\n    },\r\n\r\n    heightLight() {\r\n      let lis = this.$refs.ul.getElementsByTagName(\"li\");\r\n      for (let li of lis)\r\n        li.removeAttribute(\"class\");\r\n      lis[this.lineNo].className = \"light\";\r\n      if (this.lineNo > 2) {\r\n        this.$refs.ul.style.transform = \"translateY(\" + (this.lineNo - 2)  * -20 + \"px)\";\r\n      }\r\n      this.lineNo++;\r\n    },\r\n\r\n    ended() {\r\n      this.played = true;\r\n      this.btnShow = true;\r\n      this.isplay = false;\r\n      clearInterval(this.timer);\r\n    },\r\n\r\n    error() {\r\n      clearInterval(this.timer);\r\n      this.progress = \"0%\";\r\n      this.$refs.range.value = 0;\r\n      this.noWord = true;\r\n    },\r\n\r\n    pre() {\r\n      if(this.index > 0) {\r\n        let index = this.index - 1;\r\n        let item = this.$store.state.songs[index];\r\n        localStorage.setItem(\"data\", JSON.stringify(item));\r\n        localStorage.setItem(\"index\", index);\r\n        this.angle = 0;\r\n        localStorage.setItem(\"currentTime\", 0);\r\n        this.init();\r\n      }\r\n      this.showWords = false;\r\n      this.$nextTick(() => (this.showWords = true));\r\n    },\r\n\r\n    next() {\r\n      if(this.index < this.$store.state.songs.length - 1) {\r\n        let index = this.index + 1;\r\n        let item = this.$store.state.songs[index];\r\n        localStorage.setItem(\"data\", JSON.stringify(item));\r\n        localStorage.setItem(\"index\", index);\r\n        this.angle = 0;\r\n        localStorage.setItem(\"currentTime\", 0);\r\n        this.init();\r\n      }\r\n      this.showWords = false;\r\n      this.$nextTick(() => (this.showWords = true));\r\n    },\r\n\r\n    init() {\r\n      this.data = JSON.parse(localStorage.getItem(\"data\"));\r\n      this.index = parseInt(localStorage.getItem(\"index\"));\r\n      let lrc;\r\n      if(this.data == \"tm\") {\r\n        this.src = music;\r\n        lrc = txt.t;\r\n        this.parseLrc(lrc);\r\n      } else {\r\n        this.$refs.audio.src = this.data.url;\r\n        lrc = this.data.lrc;\r\n        this.$axios.get(lrc).then(response => {\r\n          this.parseLrc(response);\r\n        });\r\n        this.pic = this.data.pic;\r\n      }\r\n      this.$refs.audio.autoplay = true;\r\n      this.$refs.audio.load();\r\n      this.autoRatate();\r\n      this.$refs.audio.currentTime = parseInt(localStorage.getItem(\"currentTime\"));\r\n      this.currentTime = this.timeFormat(this.$refs.audio.currentTime);\r\n      this.$refs.range.value = this.$refs.audio.currentTime / this.$refs.audio.duration * 100;\r\n      this.progress = this.$refs.range.value + \"%\";\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    let currentTime = this.$refs.audio.currentTime;\r\n    localStorage.setItem(\"currentTime\", currentTime);\r\n    this.$store.commit(\"setShowPlayArea\", true);\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./play.vue?vue&type=template&id=3ac5ad99&scoped=true&\"\nimport script from \"./play.vue?vue&type=script&lang=js&\"\nexport * from \"./play.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play.vue?vue&type=style&index=0&id=3ac5ad99&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ac5ad99\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=style&index=0&id=3ac5ad99&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=style&index=0&id=3ac5ad99&lang=scss&scoped=true&\""],"sourceRoot":""}